## 1、首页

<img src="../assets/4fe583b545cad51d9d5e27785520580.jpg" alt="4fe583b545cad51d9d5e27785520580" style="zoom:80%;" />

<img src="../assets/b9df9d629fb9eff43ef6d7be42f4319.jpg" alt="b9df9d629fb9eff43ef6d7be42f4319" style="zoom:80%;" />

组件化搭建页面，recoil管理公共数据

<img src="../assets/43c6d12d6c167cbab95295a4db58457.jpg" alt="43c6d12d6c167cbab95295a4db58457" style="zoom:80%;" />

弹窗管理

<img src="../assets/5902376885074fd7fdc26c53e682042.jpg" alt="5902376885074fd7fdc26c53e682042" style="zoom:80%;" />

页面结构

<img src="../assets/8de999feec599331484a24857be7566.jpg" alt="8de999feec599331484a24857be7566" style="zoom:80%;" />

JSX使用函数

<img src="../assets/44b1ba5ae63492ba7b546407588ac5b.jpg" alt="44b1ba5ae63492ba7b546407588ac5b" style="zoom:80%;" />

判断也用函数封装

<img src="../assets/5d82703ae30ef5727dca898a41325bd.jpg" alt="5d82703ae30ef5727dca898a41325bd" style="zoom:80%;" />

## 2、设置

首页只有用到和修改数据，不涉及后台接口请求保存每一次修改

设置页面修改数据之后，发送请求，封装方法

<img src="../assets/a59481d509f308f61f6f19ced995b39.jpg" alt="a59481d509f308f61f6f19ced995b39" style="zoom:80%;" />

整体结构

<img src="../assets/76f9cdc67e7a9f02e5c94d94a467cd6.jpg" alt="76f9cdc67e7a9f02e5c94d94a467cd6" style="zoom:80%;" />

<img src="../assets/e86e1e01c714d8ab1c8f1ad23c2bd6f.jpg" alt="e86e1e01c714d8ab1c8f1ad23c2bd6f" style="zoom:80%;" />

具体某一项配置——只有开关

<img src="F:/WeChat%20Files/wxid_s03prdq80ev922/FileStorage/Temp/93571d2dd94e45ec3c93050d13077fe.jpg" alt="93571d2dd94e45ec3c93050d13077fe" style="zoom:80%;" />

<img src="../assets/34b820ab2f716a8f5a9c07eb1818dab.jpg" alt="34b820ab2f716a8f5a9c07eb1818dab" style="zoom:80%;" />

具体配置——有参数配置

<img src="../assets/96260416e712982712308f7b1b2b5a8.jpg" alt="96260416e712982712308f7b1b2b5a8" style="zoom:80%;" />

<img src="../assets/20a4f0023ee5cea2b6fb4e0ab613fed.jpg" alt="20a4f0023ee5cea2b6fb4e0ab613fed" style="zoom:80%;" />

<img src="../assets/4474ac5541836e4669a7f2a4b866a09.jpg" alt="4474ac5541836e4669a7f2a4b866a09" style="zoom:80%;" />

## 3、申请

### 3.1 代发协议

==todo== 请求协议封装成hook，可以给组件用或者外部调用、useReducer管理数据

![77a42c0fa42f41b63afaed349039067](../assets/77a42c0fa42f41b63afaed349039067.jpg)

<img src="../assets/af105fa94324a6c9252a7291703ef66.jpg" alt="af105fa94324a6c9252a7291703ef66" style="zoom:80%;" />

### 3.2 网点选择

```js
const test = [                        
{
    FIRBRN: '100593',
    SECBRN: '',
    BRNNAM: '广州分行',
    BRNTYP: 'D',
    BRNNBR: '120',
    YSTNBR: '100593',
},
{
    FIRBRN: '100593',
    SECBRN: '',
    BRNNAM: '湛江分行',
    BRNTYP: 'O',
    BRNNBR: '759',
    YSTNBR: '109853',
},
{
    FIRBRN: '100593',
    SECBRN: '109853',
    BRNNAM: '湛江霞山支行',
    BRNTYP: 'S',
    BRNNBR: '759521',
    YSTNBR: '114619',
},
{
    FIRBRN: '100593',
    SECBRN: '',
    BRNNAM: '广州分行白云支行',
    BRNTYP: 'S',
    BRNNBR: '120504',
    YSTNBR: '100715',
},
{
    FIRBRN: '100314',
    SECBRN: '',
    BRNNAM: '北京分行',
    BRNTYP: 'D',
    BRNNBR: '110',
    YSTNBR: '100314',
},
{
    FIRBRN: '100314',
    SECBRN: '',
    BRNNAM: '北京分行长安街支行',
    BRNTYP: 'S',
    BRNNBR: '110505',
    YSTNBR: '100404',
},
];
```

<img src="../assets/8e20366b566856428154cbc65295278.jpg" alt="8e20366b566856428154cbc65295278" style="zoom:80%;" />

<img src="../assets/55d9c9568e13d3636e27b45d469e30b.jpg" alt="55d9c9568e13d3636e27b45d469e30b" style="zoom:80%;" />

<img src="../assets/e253066853366a25e4d3b553051064b.jpg" alt="e253066853366a25e4d3b553051064b" style="zoom:80%;" />

<img src="../assets/feafb996b6099d8870e55c66c38bda5.jpg" alt="feafb996b6099d8870e55c66c38bda5" style="zoom:80%;" />

<img src="../assets/a42f92493aea83f5fb58bd10fecd91f.jpg" alt="a42f92493aea83f5fb58bd10fecd91f" style="zoom:80%;" />

<img src="../assets/1eca08abe19c20a89a51e183f57cbd1.jpg" alt="1eca08abe19c20a89a51e183f57cbd1" style="zoom:80%;" />

### 3.3 `useTable`

<img src="../assets/fe048f5934542a025650f3c988cd285.jpg" alt="fe048f5934542a025650f3c988cd285" style="zoom:80%;" />

<img src="../assets/91372deb690eb4353e9c3fdcaa7240c.jpg" alt="91372deb690eb4353e9c3fdcaa7240c" style="zoom:80%;" />

### 3.4 异步轮询

<img src="../assets/4e73113b285a9f0759d98b4fa9e81cb.jpg" alt="4e73113b285a9f0759d98b4fa9e81cb" style="zoom:80%;" />

另一种

<img src="../assets/eaa07acfc3290396ab3f06689b313a1.jpg" alt="eaa07acfc3290396ab3f06689b313a1" style="zoom:80%;" />

<img src="../assets/877989ae90e95b0ea05ce68211faf62.jpg" alt="877989ae90e95b0ea05ce68211faf62" style="zoom:80%;" />

使用

<img src="../assets/deeec156a31e3d1438fa38a9a375f69.jpg" alt="deeec156a31e3d1438fa38a9a375f69" style="zoom:80%;" />

<img src="../assets/e1d2946f3ce3a18f05e0c5df08a45bd.jpg" alt="e1d2946f3ce3a18f05e0c5df08a45bd" style="zoom:80%;" />

### 3.5 导入组件

<img src="../assets/84fbe4f3288b548129d7c5cb08e194e.jpg" alt="84fbe4f3288b548129d7c5cb08e194e" style="zoom:80%;" />

<img src="../assets/94d03935f6210f9bdbf9f5f5c11be13.jpg" alt="94d03935f6210f9bdbf9f5f5c11be13" style="zoom:80%;" />

<img src="../assets/36dba1deb27490b4a6523bb7fdd479f.jpg" alt="36dba1deb27490b4a6523bb7fdd479f" style="zoom:80%;" />

<img src="../assets/69687be137a7361ca1d3ec7820e37a8.jpg" alt="69687be137a7361ca1d3ec7820e37a8" style="zoom:80%;" />

<img src="../assets/081d55eb25baf66226261bd2fe2e384.jpg" alt="081d55eb25baf66226261bd2fe2e384" style="zoom:80%;" />

### 3.6 表单拆分

<img src="../assets/72f167d8e89a280a64028b8c3703e23.jpg" alt="72f167d8e89a280a64028b8c3703e23" style="zoom:80%;" />

## 4、付款

<img src="../assets/b7f4e99ccfb820926745900bd12ef14.jpg" alt="b7f4e99ccfb820926745900bd12ef14" style="zoom:80%;" />

<img src="../assets/e6fb427ffecfe4e74b4ed9acc0e8aa5.jpg" alt="e6fb427ffecfe4e74b4ed9acc0e8aa5" style="zoom:80%;" />

<img src="../assets/5afb303f3fe2d059588b234fd093f14.jpg" alt="5afb303f3fe2d059588b234fd093f14" style="zoom:80%;" />

实现

短信

<img src="../assets/4f38b7c0c29b52500102ede6d30e240.jpg" alt="4f38b7c0c29b52500102ede6d30e240" style="zoom:80%;" />

<img src="../assets/389a8c890ad841a459f29becc3175d8.jpg" alt="389a8c890ad841a459f29becc3175d8" style="zoom:80%;" />

<img src="../assets/2a19e47f557c99064d73025f426925a.jpg" alt="2a19e47f557c99064d73025f426925a" style="zoom:80%;" />

扫码

<img src="../assets/c5690227960e5793fc793a9bbf48cfe.jpg" alt="c5690227960e5793fc793a9bbf48cfe" style="zoom:80%;" />

<img src="../assets/3bd975df986d8c5b780aa4c556eb8f5.jpg" alt="3bd975df986d8c5b780aa4c556eb8f5" style="zoom:80%;" />

<img src="../assets/d86130e5f8e69ee692f53819192c1bd.jpg" alt="d86130e5f8e69ee692f53819192c1bd" style="zoom:80%;" />

<img src="../assets/79b63790f9f9a06703de778a68c912f.jpg" alt="79b63790f9f9a06703de778a68c912f" style="zoom:80%;" />

<img src="../assets/e3a7fe249d8cf9c65267317f6b9bc81.jpg" alt="e3a7fe249d8cf9c65267317f6b9bc81" style="zoom:80%;" />

<img src="../assets/03c58e7bcee7eb5e76a0b98dd786fc6.jpg" alt="03c58e7bcee7eb5e76a0b98dd786fc6" style="zoom:80%;" />

<img src="../assets/c0893d7f642c0e1f7ab281075d453a7.jpg" alt="c0893d7f642c0e1f7ab281075d453a7" style="zoom:80%;" />

<img src="../assets/cf09ae884e0ce1798ebc0a8bf72d541.jpg" alt="cf09ae884e0ce1798ebc0a8bf72d541" style="zoom:80%;" />

<img src="../assets/19cf976ed36e6ebecf0e9204fd74936.jpg" alt="19cf976ed36e6ebecf0e9204fd74936" style="zoom:80%;" />

<img src="../assets/d92b4b57bc58e8f97ad8d82729e7d76.jpg" alt="d92b4b57bc58e8f97ad8d82729e7d76" style="zoom:80%;" />

具体实现

支付组件

<img src="../assets/40de0a04500464be728554bf432428c.jpg" alt="40de0a04500464be728554bf432428c" style="zoom:80%;" />

<img src="../assets/09a6bfc3eca4ab7a3f3c92bb6c7bcd3.jpg" alt="09a6bfc3eca4ab7a3f3c92bb6c7bcd3" style="zoom:80%;" />

<img src="../assets/a1ebc822d76e12d6ae1b27264d3c95a.jpg" alt="a1ebc822d76e12d6ae1b27264d3c95a" style="zoom:80%;" />

<img src="../assets/50337768f422e98f35ceedc547ebcac.jpg" alt="50337768f422e98f35ceedc547ebcac" style="zoom:80%;" />

身份校验组件

<img src="../assets/6a244a3d32ed33f6fd994190fe59dd2.jpg" alt="6a244a3d32ed33f6fd994190fe59dd2" style="zoom:80%;" />

<img src="../assets/9cd8a9cd1d46a40cd626aef0c60cff1.jpg" alt="9cd8a9cd1d46a40cd626aef0c60cff1" style="zoom:80%;" />

短信

<img src="../assets/72f18b37e79474be3fc863c077f0b34.jpg" alt="72f18b37e79474be3fc863c077f0b34" style="zoom:80%;" />

<img src="../assets/053026568421ae55d6f8cbc7179b4af.jpg" alt="053026568421ae55d6f8cbc7179b4af" style="zoom:80%;" />

<img src="../assets/a84a589afc5f21ba4520bcb9203f4cb.jpg" alt="a84a589afc5f21ba4520bcb9203f4cb" style="zoom:80%;" />

扫码

<img src="../assets/b24ed76406db7afc232d074836be612.jpg" alt="b24ed76406db7afc232d074836be612" style="zoom:80%;" />

<img src="../assets/fbf9d4ccfb3acd14cb220814080d784.jpg" alt="fbf9d4ccfb3acd14cb220814080d784" style="zoom:80%;" />

<img src="../assets/8117ad8c7d37e903a81b8f0235c73da.jpg" alt="8117ad8c7d37e903a81b8f0235c73da" style="zoom:80%;" />

短信+扫码

<img src="../assets/3874239cc8b25ac19f5b6cf600cbade.jpg" alt="3874239cc8b25ac19f5b6cf600cbade" style="zoom:80%;" />

## 5、微前端

<img src="../assets/f0624ef166be85a7be21e630222aa04.jpg" alt="f0624ef166be85a7be21e630222aa04" style="zoom:80%;" />

<img src="../assets/f200d914a3ac1dff1491c6fba6682ad.jpg" alt="f200d914a3ac1dff1491c6fba6682ad" style="zoom:80%;" />

<img src="../assets/104adce2ee28cbfcacdb79e7077334d.jpg" alt="104adce2ee28cbfcacdb79e7077334d" style="zoom:80%;" />

## 6、Node

### 6.1 angular表格转column

输入

<img src="../assets/738fda63b33c541097f3ca85b11844a.jpg" alt="738fda63b33c541097f3ca85b11844a" style="zoom:80%;" />

输出

<img src="../assets/adf75bca30835262e21c802f63d5b6e.jpg" alt="adf75bca30835262e21c802f63d5b6e" style="zoom:80%;" />

实现

<img src="../assets/f1c09d45f1a27475ba7f3f24ebd78b9.jpg" alt="f1c09d45f1a27475ba7f3f24ebd78b9" style="zoom:80%;" />

<img src="../assets/f39a70120fe948ff4fa6c8c8e41b936.jpg" alt="f39a70120fe948ff4fa6c8c8e41b936" style="zoom:80%;" />

<img src="../assets/924b039c4275afcee7cc48eed943430.jpg" alt="924b039c4275afcee7cc48eed943430" style="zoom:80%;" />

<img src="../assets/e2013aa8bb9d7126fc659358d48af28.jpg" alt="e2013aa8bb9d7126fc659358d48af28" style="zoom:80%;" />

<img src="../assets/15dcedf7d0ece669210972f0f19dc2b.jpg" alt="15dcedf7d0ece669210972f0f19dc2b" style="zoom:80%;" />

### 6.2 后台接口`Api`生产TS

<img src="../assets/9c21548b429ae8976f5bb99791655d2.jpg" alt="9c21548b429ae8976f5bb99791655d2" style="zoom:80%;" />

```js
{
    "tags": [
        {
            "name": "OpenApi代发资金交易业务接口",
            "description": "Agent Special Account Pdf Controller"
        },
    ],
    "paths": {
        "/api/agent-specical-account/transaction/generate-pdf": {
            "post": {
                "tags": [
                    "OpenApi代发资金交易业务接口"
                ],
                "summary": "OpenApi生成代发资金交易清单记账凭证",
                "operationId": "generateAgentReceiptPdfUsingPOST",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "*/*"
                ],
                "parameters": [
                    {
                        "in": "body",
                        "name": "agentSpecialAccountPdfDTO",
                        "description": "agentSpecialAccountPdfDTO",
                        "required": true,
                        "schema": {
                            "originalRef": "api生成代发资金交易清单记账凭证请求参数",
                            "$ref": "#/definitions/api生成代发资金交易清单记账凭证请求参数"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "originalRef": "api生成代发资金交易清单记账凭证响应参数",
                            "$ref": "#/definitions/api生成代发资金交易清单记账凭证响应参数"
                        }
                    },
                },
                "deprecated": false
            }
        },
    },
    "definitions": {
        "api生成代发资金交易清单记账凭证响应参数": {
            "type": "object",
            "properties": {
                "redisKeyList": {
                    "type": "array",
                    "description": "REDIS的key",
                    "items": {
                        "type": "string"
                    }
                }
            },
            "title": "api生成代发资金交易清单记账凭证响应参数"
        },
        "api生成代发资金交易清单记账凭证请求参数": {
            "type": "object",
            "properties": {
                "beginDate": {
                    "type": "string",
                    "format": "date",
                    "description": "起始交易日期"
                },
                "endDate": {
                    "type": "string",
                    "format": "date",
                    "description": "截止交易日期"
                },
                "usage": {
                    "type": "string",
                    "description": "用途"
                }
            },
            "title": "api生成代发资金交易清单记账凭证请求参数"
        },
    }
}
```

<img src="../assets/5ed17d3794cd49ff2ff5e5ddb99f7c6.jpg" alt="5ed17d3794cd49ff2ff5e5ddb99f7c6" style="zoom:80%;" />

<img src="../assets/53d79b2be1da16d6f4ae792c4d304f9.jpg" alt="53d79b2be1da16d6f4ae792c4d304f9" style="zoom:80%;" />

<img src="../assets/9e32b83070069992912bc2e71b6dcb1.jpg" alt="9e32b83070069992912bc2e71b6dcb1" style="zoom:80%;" />

实现

<img src="../assets/7d9a013ef393fc2be329dc74d5832fc.jpg" alt="7d9a013ef393fc2be329dc74d5832fc" style="zoom:80%;" />

<img src="../assets/8a4cb625ec72c595c23846707e10005.jpg" alt="8a4cb625ec72c595c23846707e10005" style="zoom:80%;" />

<img src="../assets/119303c70e3bf9c011985e135d08b98.jpg" alt="119303c70e3bf9c011985e135d08b98" style="zoom:80%;" />

<img src="../assets/64f6908f74356ba668ddc387ab419cc.jpg" alt="64f6908f74356ba668ddc387ab419cc" style="zoom:80%;" />

<img src="../assets/b959c1bf721b9e0a86b1cc9e1aaf6e1.jpg" alt="b959c1bf721b9e0a86b1cc9e1aaf6e1" style="zoom:80%;" />

### 6.3 other

基于 meow 和 cli-meow-help 的脚手架工具，通过命令行快速创建 react 中的 class/函数式组件


使用Webpack分析工具webpack-bundle-analyzer对Chunk文件进一步分析

Ahooks提供了两个性能分析钩子：useTrackedEffect和useWhyDidYouUpdate可以帮助我们定位到状态的变更，从而让我们判断如何去减少组件的更新次数，实际工作中useWhyDidYouUpdate我使用的比较多。

## 7、代发业务

<img src="../assets/51045649050b202b61de897da222c58.jpg" alt="51045649050b202b61de897da222c58" style="zoom:80%;" />

<img src="../assets/1e853059f3b6006727334dc68d96304.jpg" alt="1e853059f3b6006727334dc68d96304" style="zoom:80%;" />

<img src="../assets/b9ae13a3fb5cb15f9dc8e7283d1a45e.jpg" alt="b9ae13a3fb5cb15f9dc8e7283d1a45e" style="zoom:80%;" />

<img src="../assets/bde44ea137b1f5b00773761ae1dd528.jpg" alt="bde44ea137b1f5b00773761ae1dd528" style="zoom:80%;" />